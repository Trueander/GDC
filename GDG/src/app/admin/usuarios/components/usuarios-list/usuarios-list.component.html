<div class="container">
  <p-toast/>
  <div class="d-flex col-gap-10 align-items-center m-bottom-10">
    <h2 class="my-0">Usuarios</h2>
    <p-button label="Registrar" icon="pi pi-plus" iconPos="right" size="small" [routerLink]="'crear'" />
  </div>
  <ng-container *ngIf="users$ | async as users">
    <p-table [value]="users" styleClass="p-datatable-striped"  [tableStyle]="{ 'min-width': '50rem' }">
      <ng-template pTemplate="header">
        <tr>
          <th>Id</th>
          <th>Nombres</th>
          <th>Apellidos</th>
          <th>Correo</th>
          <th>Equipo</th>
          <th>Rol</th>
          <th>Acciones</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr>
          <td>{{ user.idUsuario }}</td>
          <td>{{ user.nombres }}</td>
          <td>{{ user.apellidos }}</td>
          <td>{{ user.correo }}</td>
          <td>{{ user.equipos.nombre }}</td>
          <td>{{ user.roles.nombre }}</td>
          <td>
            <p-button icon="pi pi-pen-to-square"  [rounded]="true" [text]="true" severity="primary" [routerLink]="['actualizar', user.idUsuario]"/>
            <p-button icon="pi pi-trash" [rounded]="true" [text]="true" severity="danger" (click)="eliminarUsuario(user.idUsuario)"/>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </ng-container>

</div>
